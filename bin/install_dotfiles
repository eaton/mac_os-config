#! /usr/bin/env bash

# Installs Dotfiles project.

# First make sure we've got Oh My Zsh installed.
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

if [[ -z $(cat /etc/shells | grep "$(get_homebrew_bin_root)/zsh") ]]; then
  sudo bash -c "printf '$(get_homebrew_bin_root)/zsh\n' >> /etc/shells"
  chsh -s "$(get_homebrew_bin_root)/zsh"

  install_git_project "https://github.com/eaton/dotfiles.git" $REPO_DOTFILES "$HOME/dotfiles" "bin/run i"
  source "$HOME/.zshrc"
else
  printf "%s\n" "Dotfiles are installed."
fi
